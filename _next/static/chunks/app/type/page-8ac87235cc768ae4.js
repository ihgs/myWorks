(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[684],{2271:function(e,t,a){Promise.resolve().then(a.bind(a,7563))},1741:function(e,t,a){"use strict";a.d(t,{db:function(){return n}});var r=a(7868);class o extends r.ZP{constructor(){super("myWorks"),this.version(3).stores({works:"++id, [year+month+day], [year+month]",types:"++id"})}}let n=new o},6002:function(e,t,a){"use strict";a.d(t,{X:function(){return o}});var r=a(2265);let o=(0,r.createContext)(void 0)},7563:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return V}});var r=a(7437),o=a(4548),n=a.n(o),i=a(5539),l=a(6002),s=a(3457),d=a(1711),c=a(9050),p=a(791),u=a(3428),y=a(2265),g=a(7042),h=a(5600);let v=y.createContext();var m=a(7927),f=a(5843),x=a(6520),b=a(5702);function Z(e){return(0,b.Z)("MuiTable",e)}(0,x.Z)("MuiTable",["root","stickyHeader"]);let w=["className","component","padding","size","stickyHeader"],k=e=>{let{classes:t,stickyHeader:a}=e;return(0,h.Z)({root:["root",a&&"stickyHeader"]},Z,t)},C=(0,f.ZP)("table",{name:"MuiTable",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,u.Z)({display:"table",width:"100%",borderCollapse:"collapse",borderSpacing:0,"& caption":(0,u.Z)({},e.typography.body2,{padding:e.spacing(2),color:(e.vars||e).palette.text.secondary,textAlign:"left",captionSide:"bottom"})},t.stickyHeader&&{borderCollapse:"separate"})),j="table",T=y.forwardRef(function(e,t){let a=(0,m.Z)({props:e,name:"MuiTable"}),{className:o,component:n=j,padding:i="normal",size:l="medium",stickyHeader:s=!1}=a,d=(0,p.Z)(a,w),c=(0,u.Z)({},a,{component:n,padding:i,size:l,stickyHeader:s}),h=k(c),f=y.useMemo(()=>({padding:i,size:l,stickyHeader:s}),[i,l,s]);return(0,r.jsx)(v.Provider,{value:f,children:(0,r.jsx)(C,(0,u.Z)({as:n,role:n===j?null:"table",ref:t,className:(0,g.Z)(h.root,o),ownerState:c},d))})}),M=y.createContext();function R(e){return(0,b.Z)("MuiTableBody",e)}(0,x.Z)("MuiTableBody",["root"]);let $=["className","component"],H=e=>{let{classes:t}=e;return(0,h.Z)({root:["root"]},R,t)},z=(0,f.ZP)("tbody",{name:"MuiTableBody",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"table-row-group"}),N={variant:"body"},S="tbody",A=y.forwardRef(function(e,t){let a=(0,m.Z)({props:e,name:"MuiTableBody"}),{className:o,component:n=S}=a,i=(0,p.Z)(a,$),l=(0,u.Z)({},a,{component:n}),s=H(l);return(0,r.jsx)(M.Provider,{value:N,children:(0,r.jsx)(z,(0,u.Z)({className:(0,g.Z)(s.root,o),as:n,ref:t,role:n===S?null:"rowgroup",ownerState:l},i))})});var P=a(9975);function O(e){return(0,b.Z)("MuiTableRow",e)}let B=(0,x.Z)("MuiTableRow",["root","selected","hover","head","footer"]),E=["className","component","hover","selected"],_=e=>{let{classes:t,selected:a,hover:r,head:o,footer:n}=e;return(0,h.Z)({root:["root",a&&"selected",r&&"hover",o&&"head",n&&"footer"]},O,t)},F=(0,f.ZP)("tr",{name:"MuiTableRow",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,a.head&&t.head,a.footer&&t.footer]}})(({theme:e})=>({color:"inherit",display:"table-row",verticalAlign:"middle",outline:0,[`&.${B.hover}:hover`]:{backgroundColor:(e.vars||e).palette.action.hover},[`&.${B.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,P.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),"&:hover":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,P.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity)}}})),D=y.forwardRef(function(e,t){let a=(0,m.Z)({props:e,name:"MuiTableRow"}),{className:o,component:n="tr",hover:i=!1,selected:l=!1}=a,s=(0,p.Z)(a,E),d=y.useContext(M),c=(0,u.Z)({},a,{component:n,hover:i,selected:l,head:d&&"head"===d.variant,footer:d&&"footer"===d.variant}),h=_(c);return(0,r.jsx)(F,(0,u.Z)({as:n,ref:t,className:(0,g.Z)(h.root,o),role:"tr"===n?null:"row",ownerState:c},s))});var q=a(8702);function W(e){return(0,b.Z)("MuiTableCell",e)}let X=(0,x.Z)("MuiTableCell",["root","head","body","footer","sizeSmall","sizeMedium","paddingCheckbox","paddingNone","alignLeft","alignCenter","alignRight","alignJustify","stickyHeader"]),I=["align","className","component","padding","scope","size","sortDirection","variant"],J=e=>{let{classes:t,variant:a,align:r,padding:o,size:n,stickyHeader:i}=e,l={root:["root",a,i&&"stickyHeader","inherit"!==r&&`align${(0,q.Z)(r)}`,"normal"!==o&&`padding${(0,q.Z)(o)}`,`size${(0,q.Z)(n)}`]};return(0,h.Z)(l,W,t)},L=(0,f.ZP)("td",{name:"MuiTableCell",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:a}=e;return[t.root,t[a.variant],t[`size${(0,q.Z)(a.size)}`],"normal"!==a.padding&&t[`padding${(0,q.Z)(a.padding)}`],"inherit"!==a.align&&t[`align${(0,q.Z)(a.align)}`],a.stickyHeader&&t.stickyHeader]}})(({theme:e,ownerState:t})=>(0,u.Z)({},e.typography.body2,{display:"table-cell",verticalAlign:"inherit",borderBottom:e.vars?`1px solid ${e.vars.palette.TableCell.border}`:`1px solid
    ${"light"===e.palette.mode?(0,P.$n)((0,P.Fq)(e.palette.divider,1),.88):(0,P._j)((0,P.Fq)(e.palette.divider,1),.68)}`,textAlign:"left",padding:16},"head"===t.variant&&{color:(e.vars||e).palette.text.primary,lineHeight:e.typography.pxToRem(24),fontWeight:e.typography.fontWeightMedium},"body"===t.variant&&{color:(e.vars||e).palette.text.primary},"footer"===t.variant&&{color:(e.vars||e).palette.text.secondary,lineHeight:e.typography.pxToRem(21),fontSize:e.typography.pxToRem(12)},"small"===t.size&&{padding:"6px 16px",[`&.${X.paddingCheckbox}`]:{width:24,padding:"0 12px 0 16px","& > *":{padding:0}}},"checkbox"===t.padding&&{width:48,padding:"0 0 0 4px"},"none"===t.padding&&{padding:0},"left"===t.align&&{textAlign:"left"},"center"===t.align&&{textAlign:"center"},"right"===t.align&&{textAlign:"right",flexDirection:"row-reverse"},"justify"===t.align&&{textAlign:"justify"},t.stickyHeader&&{position:"sticky",top:0,zIndex:2,backgroundColor:(e.vars||e).palette.background.default})),G=y.forwardRef(function(e,t){let a;let o=(0,m.Z)({props:e,name:"MuiTableCell"}),{align:n="inherit",className:i,component:l,padding:s,scope:d,size:c,sortDirection:h,variant:f}=o,x=(0,p.Z)(o,I),b=y.useContext(v),Z=y.useContext(M),w=Z&&"head"===Z.variant,k=d;"td"===(a=l||(w?"th":"td"))?k=void 0:!k&&w&&(k="col");let C=f||Z&&Z.variant,j=(0,u.Z)({},o,{align:n,component:a,padding:s||(b&&b.padding?b.padding:"normal"),size:c||(b&&b.size?b.size:"medium"),sortDirection:h,stickyHeader:"head"===C&&b&&b.stickyHeader,variant:C}),T=J(j),R=null;return h&&(R="asc"===h?"ascending":"descending"),(0,r.jsx)(L,(0,u.Z)({as:a,ref:t,className:(0,g.Z)(T.root,i),"aria-sort":R,scope:k,ownerState:j},x))});function K(){let e;let t=(0,y.useContext)(l.X);t&&(e=t.resolve("recorder"));let[a,o]=(0,y.useState)(""),[n,i]=(0,y.useState)(""),[p,u]=(0,y.useState)([]),g=async()=>{u(await e.list())};(0,y.useEffect)(()=>{g()},[]);let h=async()=>{await e.save({name:a,code:n}),o(""),i(""),g()},v=async t=>{t&&(await e.delete(t),g())};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.Z,{spacing:1,children:[(0,r.jsxs)(s.Z,{direction:"row",spacing:1,children:[(0,r.jsx)(d.Z,{type:"text",placeholder:"name",onChange:e=>{o(e.target.value)},value:a}),(0,r.jsx)(d.Z,{type:"text",placeholder:"code",onChange:e=>{i(e.target.value)},value:n}),(0,r.jsx)(c.Z,{variant:"contained",onClick:h,children:"Save"})]}),(0,r.jsx)(T,{children:(0,r.jsx)(A,{children:p.map(e=>(0,r.jsxs)(D,{children:[(0,r.jsx)(G,{children:e.name}),(0,r.jsx)(G,{children:e.code}),(0,r.jsx)(G,{children:(0,r.jsx)(c.Z,{variant:"outlined",onClick:()=>{v(e.id)},children:"Delete"})})]},e.id))})})]})})}var Q=a(1741);class U{async save(e){let t=await Q.db.types.add(e);return{id:t,...e}}async update(e){if(e.id)return await Q.db.types.update(e.id,e),{...e};throw Error("invalid data")}async list(){return await Q.db.types.toArray()}async listByDay(e,t,a){throw Error("not implemented")}async listByMonth(e,t){throw Error("not implemented")}async delete(e){await Q.db.types.delete(e)}async listTypes(){return await Q.db.types.toArray()}}function V(){let e=(0,i.fH)();return e.register({recorder:(0,i.D1)(U).singleton()}),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(l.X.Provider,{value:e,children:(0,r.jsx)(K,{})})})}n()()}},function(e){e.O(0,[329,862,971,472,744],function(){return e(e.s=2271)}),_N_E=e.O()}]);